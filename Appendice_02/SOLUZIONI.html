
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Soluzioni: Lezione 8 &#8212; Laboratorio 2</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Esercizi per la lezione 8" href="ESERCIZI.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo_unimib.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Laboratorio 2</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Laboratorio 2 - I Modulo
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Prerequisiti/README.html">
   I prerequisiti del corso
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Ripasso/README.html">
   Ripasso di
   <code class="docutils literal notranslate">
    <span class="pre">
     C
    </span>
   </code>
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../content.html">
   Indice delle Lezioni
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Lezione_01/README.html">
     Lezione 1: strutturazione di un programma ed introduzione al
     <code class="docutils literal notranslate">
      <span class="pre">
       C++
      </span>
     </code>
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_01/ESEMPI.html">
       Esempi: Lezione 1
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_01/ESERCIZI.html">
       Esercizi per la lezione 1
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_01/SOLUZIONI.html">
       Soluzioni: Lezione 1
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Lezione_02/README.html">
     Lezione 2: programmazione ad oggetti, le classi
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_02/ESEMPI.html">
       Esempi: Lezione 2
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_02/ESERCIZI.html">
       Esercizi per la lezione 2
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_02/SOLUZIONI.html">
       Soluzioni: Lezione 2
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Lezione_03/README.html">
     Lezione 3: visualizzazione di dati con ROOT
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_03/ESEMPI.html">
       Esempi: Lezione 3
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_03/ESERCIZI.html">
       Esercizi per la lezione 3
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_03/SOLUZIONI.html">
       Soluzioni: Lezione 3
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Lezione_04/README.html">
     Lezione 4: la generazione di numeri pseudo-casuali
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_04/ESEMPI.html">
       Esempi: Lezione 4
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_04/ESERCIZI.html">
       Esercizi per la lezione 4
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_04/SOLUZIONI.html">
       Soluzioni: Lezione 4
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Lezione_05/README.html">
     Lezione 5: programmazione
     <code class="docutils literal notranslate">
      <span class="pre">
       template
      </span>
     </code>
     e Standard Template Library
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_05/ESEMPI.html">
       Esempi: Lezione 5
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_05/ESERCIZI.html">
       Esercizi per la lezione 5
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_05/SOLUZIONI.html">
       Soluzioni: Lezione 5
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Lezione_06/README.html">
     Lezione 6: zeri ed estremanti di funzioni
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_06/ESEMPI.html">
       Esempi: Lezione 6
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_06/ESERCIZI.html">
       Esercizi per la lezione 6
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_06/SOLUZIONI.html">
       Soluzioni: Lezione 6
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Lezione_07/README.html">
     Lezione 7: La distribuzione di Poisson
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_07/ESERCIZI.html">
       Esercizi per la lezione 7
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_07/SOLUZIONI.html">
       Soluzioni: Lezione 7
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Lezione_08/README.html">
     Lezione 8: esempi di applicazione di sequenze pseudo-casuali ed esempi di calcolo numerico
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_08/ESEMPI.html">
       Esempi: Lezione 8
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_08/ESERCIZI.html">
       Esercizi per la lezione 8
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_08/SOLUZIONI.html">
       Soluzioni: Lezione 8
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Lezione_09/README.html">
     Lezione 9: la verosimiglianza
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_09/ESERCIZI.html">
       Esercizi per la lezione 9
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_09/SOLUZIONI.html">
       Soluzioni: Lezione 9
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Lezione_10/README.html">
     Lezione 10: stima di parametri con il metodo della massima verosimiglianza
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Lezione_10/ESERCIZI.html">
       Esercizi per la lezione 10
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../appendix.html">
   Appendice
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Appendice_01/README.html">
     Appendice A1: algoritmi predefiniti nelle
     <em>
      Standard Template Library
     </em>
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Appendice_01/ESERCIZI.html">
       Esercizi per l’appendice A1
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Appendice_01/SOLUZIONI.html">
       Soluzioni: Appendice A1
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="README.html">
     Appendice A2: programmazione ad oggetti: l’ereditarietà
     <code class="docutils literal notranslate">
      <span class="pre">
       public
      </span>
     </code>
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
    <label for="toctree-checkbox-14">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="ESERCIZI.html">
       Esercizi per la lezione 8
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Soluzioni: Lezione 8
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/Appendice_02/SOLUZIONI.rst"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#generazione-di-toy-experiment">
   8.1 generazione di
   <em>
    toy experiment
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#disegno-di-toy-experiment">
   8.2 disegno di
   <em>
    toy experiment
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calcolo-delle-statistiche-di-un-campione-di-toy-experiment">
   8.3 calcolo delle statistiche di un campione di
   <em>
    toy experiment
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#studio-dell-evoluzione-delle-statistiche-con-il-numero-di-eventi">
   8.4 studio dell’evoluzione delle statistiche con il numero di eventi
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#metodo-di-integrazione-hit-or-miss">
   8.5 metodo di integrazione
   <em>
    hit-or-miss
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#incetezza-del-metodo-di-integrazione-hit-or-miss">
   8.6 incetezza del metodo di integrazione
   <em>
    hit-or-miss
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#metodo-di-integrazone-crude-montecarlo">
   8.7 metodo di integrazone
   <em>
    crude Montecarlo
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#incetezza-del-metodo-di-integrazione-crude-montecarlo">
   8.8 incetezza del metodo di integrazione
   <em>
    crude Montecarlo
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#confronto-fra-crude-montecarlo-e-hit-or-miss">
   8.9 confronto fra
   <em>
    crude Montecarlo
   </em>
   e
   <em>
    hit-or-miss
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#integrale-della-gaussiana">
   8.10 integrale della Gaussiana
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="soluzioni-lezione-8">
<h1>Soluzioni: Lezione 8<a class="headerlink" href="#soluzioni-lezione-8" title="Permalink to this headline">¶</a></h1>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
<div class="section" id="generazione-di-toy-experiment">
<h2>8.1 generazione di <em>toy experiment</em><a class="headerlink" href="#generazione-di-toy-experiment" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>esercizio01_02.cpp</cite></p></li>
</ul>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
</div>
<div class="section" id="disegno-di-toy-experiment">
<h2>8.2 disegno di <em>toy experiment</em><a class="headerlink" href="#disegno-di-toy-experiment" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>esercizio01_02.cpp</cite></p></li>
</ul>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
</div>
<div class="section" id="calcolo-delle-statistiche-di-un-campione-di-toy-experiment">
<h2>8.3 calcolo delle statistiche di un campione di <em>toy experiment</em><a class="headerlink" href="#calcolo-delle-statistiche-di-un-campione-di-toy-experiment" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>esercizio03.cpp</cite></p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">Esercizio 03: Si utilizzi la classe statistiche sviluppata durante la Lezione 4 per confrontare la deviazione standard della media calcolata per ogni singolo toy con la deviazione standard del campione delle medie.</span>

<span class="cm">c++ -o esercizio03 esercizio03.cpp ../../Lezione_04/Esercizi/statistiche.cc  </span>
<span class="cm">*/</span><span class="w"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ctime&gt;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;../../Lezione_04/Esercizi/statistiche.h&quot;</span><span class="c1"> </span><span class="cp"></span>

<span class="kt">float</span><span class="w"> </span><span class="nf">rand_range</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">max</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rand</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">RAND_MAX</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span>
<span class="c1">//----------------- MAIN -----------------  </span>
<span class="w">  </span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span><span class="w">   </span>
<span class="w">  </span>
<span class="w">    </span><span class="c1">// numero di eventi generati per un singolo toy experiment</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">NMAX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1">// numero di toy experiment per construire la pdf della media per campionamento</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">NToys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">            </span>
<span class="w">    </span><span class="n">statistiche</span><span class="o">*</span><span class="w"> </span><span class="n">s_singleToy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">statistiche</span><span class="p">(</span><span class="n">NMAX</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">statistiche</span><span class="o">*</span><span class="w"> </span><span class="n">s_media</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">statistiche</span><span class="p">(</span><span class="n">NToys</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">statistiche</span><span class="o">*</span><span class="w"> </span><span class="n">s_incertezzaMedia</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">statistiche</span><span class="p">(</span><span class="n">NToys</span><span class="p">);</span><span class="w"></span>
<span class="w">           </span>
<span class="w">    </span><span class="c1">// loop su tutti i toy experiment</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">iToy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">iToy</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">NToys</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">iToy</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="c1">//loop sul singolo esperimento</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">NMAX</span><span class="p">)</span><span class="w"> </span><span class="n">s_singleToy</span><span class="o">-&gt;</span><span class="n">aggiungiNumero</span><span class="w"> </span><span class="p">(</span><span class="n">rand_range</span><span class="w"> </span><span class="p">(</span><span class="mf">-3.</span><span class="p">,</span><span class="w"> </span><span class="mf">3.</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="n">s_media</span><span class="o">-&gt;</span><span class="n">aggiungiNumero</span><span class="w"> </span><span class="p">(</span><span class="n">s_singleToy</span><span class="o">-&gt;</span><span class="n">media</span><span class="w"> </span><span class="p">())</span><span class="w"> </span><span class="p">;</span><span class="w">                      </span>
<span class="w">        </span><span class="n">s_incertezzaMedia</span><span class="o">-&gt;</span><span class="n">aggiungiNumero</span><span class="p">(</span><span class="n">s_singleToy</span><span class="o">-&gt;</span><span class="n">dev_standard_media</span><span class="w"> </span><span class="p">());</span><span class="w"></span>
<span class="w">                       </span>
<span class="w">        </span><span class="n">s_singleToy</span><span class="o">-&gt;</span><span class="n">reset</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span>


<span class="w">    </span><span class="c1">//valori finali</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;media delle deviazioni standard della media per i singoli toy experiment: &quot;</span><span class="w"> </span>
<span class="w">              </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">s_incertezzaMedia</span><span class="o">-&gt;</span><span class="n">media</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; </span><span class="se">\n</span><span class="s">&quot;</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;deviazione standard della distribuzione delle medie dei singoli toy experiment: &quot;</span><span class="w"> </span>
<span class="w">              </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">s_media</span><span class="o">-&gt;</span><span class="n">dev_standard_SQ</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; </span><span class="se">\n</span><span class="s">&quot;</span><span class="w"> </span><span class="p">;</span><span class="w"></span>


<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">s_singleToy</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">s_media</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">s_incertezzaMedia</span><span class="p">;</span><span class="w"></span>


<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
</div>
<div class="section" id="studio-dell-evoluzione-delle-statistiche-con-il-numero-di-eventi">
<h2>8.4 studio dell’evoluzione delle statistiche con il numero di eventi<a class="headerlink" href="#studio-dell-evoluzione-delle-statistiche-con-il-numero-di-eventi" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>esercizio04.cpp</cite></p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">Esercizio 04: Si utilizzino due TGraph per confrontare l&#39;evoluzione della deviazione standard della media calcolata per ogni singolo toy con la deviazione standard del campione delle medie al variare del numero di eventi generati in un singolo toy experiment.</span>

<span class="cm">c++ -o esercizio04 esercizio04.cpp ../../Lezione_04/Esercizi/statistiche.cc `root-config --glibs --cflags` </span>
<span class="cm">*/</span><span class="w"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ctime&gt;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TH1F.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TCanvas.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TGraph.h&quot;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;../../Lezione_04/Esercizi/statistiche.h&quot;</span><span class="cp"></span>

<span class="kt">float</span><span class="w"> </span><span class="nf">rand_range</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">max</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rand</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">RAND_MAX</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span>
<span class="c1">//----------------- MAIN -----------------  </span>
<span class="w">  </span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span><span class="w"> </span>
<span class="w">  </span>
<span class="w">    </span><span class="c1">// numero massimo di eventi generati per un singolo toy experiment</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">NMAX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">40000</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">statistiche</span><span class="o">*</span><span class="w"> </span><span class="n">s_singleToy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">statistiche</span><span class="p">(</span><span class="n">NMAX</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">statistiche</span><span class="o">*</span><span class="w"> </span><span class="n">s_media</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">statistiche</span><span class="p">(</span><span class="n">NMAX</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">statistiche</span><span class="o">*</span><span class="w"> </span><span class="n">s_incertezzaMedia</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">statistiche</span><span class="p">(</span><span class="n">NMAX</span><span class="p">);</span><span class="w"></span>
<span class="w">           </span>
<span class="w">    </span><span class="n">TGraph</span><span class="w"> </span><span class="n">g_sigma</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">TGraph</span><span class="w"> </span><span class="n">g_sigmaMedia</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">          </span>
<span class="w">    </span><span class="c1">//loop sul numero di eventi da generare per singolo esperimento  </span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">NMAX</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">                       </span>
<span class="w">        </span><span class="c1">//loop sul singolo esperimento</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">s_singleToy</span><span class="o">-&gt;</span><span class="n">aggiungiNumero</span><span class="w"> </span><span class="p">(</span><span class="n">rand_range</span><span class="w"> </span><span class="p">(</span><span class="mf">-3.</span><span class="p">,</span><span class="w"> </span><span class="mf">3.</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="n">s_media</span><span class="o">-&gt;</span><span class="n">aggiungiNumero</span><span class="w"> </span><span class="p">(</span><span class="n">s_singleToy</span><span class="o">-&gt;</span><span class="n">media</span><span class="w"> </span><span class="p">())</span><span class="w"> </span><span class="p">;</span><span class="w">                </span>
<span class="w">        </span><span class="n">g_sigma</span><span class="p">.</span><span class="n">SetPoint</span><span class="w"> </span><span class="p">(</span><span class="n">g_sigma</span><span class="p">.</span><span class="n">GetN</span><span class="p">(),</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">s_media</span><span class="o">-&gt;</span><span class="n">dev_standard</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">        </span>
<span class="w">                </span>
<span class="w">        </span><span class="n">s_incertezzaMedia</span><span class="o">-&gt;</span><span class="n">aggiungiNumero</span><span class="p">(</span><span class="n">s_singleToy</span><span class="o">-&gt;</span><span class="n">dev_standard_media</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">));</span><span class="w">        </span>
<span class="w">        </span><span class="n">g_sigmaMedia</span><span class="p">.</span><span class="n">SetPoint</span><span class="w"> </span><span class="p">(</span><span class="n">g_sigmaMedia</span><span class="p">.</span><span class="n">GetN</span><span class="p">(),</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">s_incertezzaMedia</span><span class="o">-&gt;</span><span class="n">media</span><span class="w"> </span><span class="p">())</span><span class="w"> </span><span class="p">;</span><span class="w">        </span>
<span class="w">                </span>
<span class="w">        </span><span class="n">s_singleToy</span><span class="o">-&gt;</span><span class="n">reset</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">        </span>
<span class="w">      </span><span class="p">}</span><span class="w">   </span>
<span class="w">      </span>
<span class="w">      </span>

<span class="w">    </span><span class="n">TCanvas</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;c1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">c1</span><span class="p">.</span><span class="n">SetLogx</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>

<span class="w">    </span><span class="n">g_sigma</span><span class="p">.</span><span class="n">SetMarkerStyle</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigma</span><span class="p">.</span><span class="n">SetMarkerColor</span><span class="w"> </span><span class="p">(</span><span class="n">kBlue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigma</span><span class="p">.</span><span class="n">SetLineColor</span><span class="w"> </span><span class="p">(</span><span class="n">kBlue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigma</span><span class="p">.</span><span class="n">SetMarkerSize</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigma</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetXaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;numero di eventi&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigma</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetYaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;media della deviazione standard&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigma</span><span class="p">.</span><span class="n">Draw</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;ALP&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">c1</span><span class="p">.</span><span class="n">Print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;esercizio4_sigma.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;png&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">TCanvas</span><span class="w"> </span><span class="n">c2</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;c2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c2&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">c2</span><span class="p">.</span><span class="n">SetLogx</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">g_sigmaMedia</span><span class="p">.</span><span class="n">SetMarkerStyle</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigmaMedia</span><span class="p">.</span><span class="n">SetMarkerColor</span><span class="w"> </span><span class="p">(</span><span class="n">kGreen</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigmaMedia</span><span class="p">.</span><span class="n">SetLineColor</span><span class="w"> </span><span class="p">(</span><span class="n">kGreen</span><span class="w"> </span><span class="mi">-5</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigmaMedia</span><span class="p">.</span><span class="n">SetMarkerSize</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigmaMedia</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetXaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;numero di eventi&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigmaMedia</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetYaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;deviazione standard dalla media&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">g_sigmaMedia</span><span class="p">.</span><span class="n">Draw</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;ALP&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">    </span>

<span class="w">    </span><span class="n">c2</span><span class="p">.</span><span class="n">Print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;esercizio4_sigmaMedia.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;png&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">s_singleToy</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">s_media</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">s_incertezzaMedia</span><span class="p">;</span><span class="w"></span>


<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
</div>
<div class="section" id="metodo-di-integrazione-hit-or-miss">
<h2>8.5 metodo di integrazione <em>hit-or-miss</em><a class="headerlink" href="#metodo-di-integrazione-hit-or-miss" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>esercizio05.cpp</cite></p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// g++ -o Esercizio05 esercizio05.cpp</span>

<span class="cm">/*</span>
<span class="cm"> *  Lezione 8 - Esercizio 05</span>
<span class="cm"> *</span>
<span class="cm"> *  Si costruisca un vector di numeri interi contenente il doppio dei primi dieci numeri interi.</span>
<span class="cm"> *      - Si mostri che l&#39;algoritmo std::find non trova alcuno dei primi dieci numeri dispari al suo interno.</span>
<span class="cm"> *      - Si trovi l&#39;iteratore all&#39;elemento che contiene il numero 6.</span>
<span class="cm"> *      - Si mostri che ognuno dei primi dieci numeri pari compare una volta sola all&#39;interno del vector.</span>
<span class="cm"> */</span><span class="w"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;algorithm&gt;</span><span class="c1"> // std::find</span><span class="cp"></span>

<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span><span class="w"></span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Vector contenente il doppio dei primi dieci interi</span>

<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="n">doppio_interi</span><span class="p">[</span><span class="n">i</span><span class="mi">-1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">i</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     *  Equivalentemente (più lento per vector di grandi dimensioni): </span>
<span class="cm">     *</span>
<span class="cm">     *  std::vector&lt;int&gt; doppio_interi;</span>
<span class="cm">     *  for(int i = 1; i &lt;= 10; i++)</span>
<span class="cm">     *      doppio_interi.push_back( 2*i );</span>
<span class="cm">     */</span><span class="w"></span>

<span class="w">    </span><span class="c1">// std::find non trova nessun numero dispari </span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">+=</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">end</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Trovato il numero dispari &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Iteratore che contiene il numero 6</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">const_iterator</span><span class="w"> </span><span class="n">it_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Ognuno dei numeri pari in doppio_interi compare una volta sola</span>
<span class="w">    </span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="w"> </span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="n">it2</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">end</span><span class="p">();</span><span class="w"> </span><span class="n">it</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">        </span><span class="c1">// Valore dell&#39;intero nella posizione corrente</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">valore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">it</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="c1">// Ciclo sugli elementi successivi del vector</span>
<span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="n">it2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">it</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">it2</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">end</span><span class="p">();</span><span class="w"> </span><span class="n">it2</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="c1">// Controllo che il valore originale non si ripeta</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="w"> </span><span class="n">it2</span><span class="p">,</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="n">valore</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">end</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Il valore &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">valore</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; si ripete!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// In alternativa, è possibile usare std::count, sempre dalla libreria algorithm</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">nRip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">count</span><span class="p">(</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Ripetizioni del valore &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">doppio_interi</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">nRip</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>


<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
</div>
<div class="section" id="incetezza-del-metodo-di-integrazione-hit-or-miss">
<h2>8.6 incetezza del metodo di integrazione <em>hit-or-miss</em><a class="headerlink" href="#incetezza-del-metodo-di-integrazione-hit-or-miss" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>esercizio06.cpp</cite></p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">Esercizio 06: Si inserisca il calcolo dell&#39;integrale dell&#39;esercizio precedente in un ciclo che, al variare del numero N di punti generati, mostri il valore dell&#39;integrale e della sua incertezza.</span>
<span class="cm">Si utilizzi un TGraph per disegnare gli andamenti del valore dell&#39;integrale e della sua incertezza, al variare di N con ragione logaritmica.</span>

<span class="cm">c++ -o esercizio06 esercizio06.cpp ../../Lezione_03/Esercizi/esercizio04/myarray.cc `root-config --glibs --cflags`</span>
<span class="cm">*/</span><span class="w"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ctime&gt;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TH1F.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TCanvas.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TGraph.h&quot;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;../../Lezione_03/Esercizi/esercizio04/myarray.h&quot;</span><span class="cp"></span>


<span class="kt">float</span><span class="w"> </span><span class="nf">rand_range</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">max</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rand</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">RAND_MAX</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span>


<span class="kt">double</span><span class="w"> </span><span class="nf">fsin</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">sin</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span>
<span class="n">mioArray</span><span class="w"> </span><span class="nf">HitOrMiss</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">Nrand</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="kt">double</span><span class="p">),</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMax</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="kt">double</span><span class="w"> </span><span class="n">yMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">yMax</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="kt">int</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">area</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">xMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">xMin</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">yMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">yMin</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span>
<span class="w">     </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Nrand</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="w"> </span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="n">xMax</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="w"> </span><span class="p">(</span><span class="n">yMin</span><span class="p">,</span><span class="w"> </span><span class="n">yMax</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="o">++</span><span class="n">nHit</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">      </span><span class="p">}</span><span class="w">   </span>
<span class="w">      </span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">varianza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1.</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span>
<span class="w">     </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">      </span>
<span class="w">     </span><span class="n">risultato</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">risultato</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">sqrt</span><span class="w"> </span><span class="p">(</span><span class="n">varianza</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">      </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">risultato</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">                 </span>
<span class="w">   </span><span class="p">}</span><span class="w">           </span>

<span class="c1">//----------------- MAIN ----------------- </span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w"> </span>
<span class="w">  </span><span class="n">srand</span><span class="w"> </span><span class="p">(</span><span class="n">time</span><span class="w"> </span><span class="p">(</span><span class="nb">NULL</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span>
<span class="w">  </span><span class="n">TGraph</span><span class="w"> </span><span class="n">g_integrale</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">TGraph</span><span class="w"> </span><span class="n">g_incertezza</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">iN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="n">iN</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">iN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iN</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HitOrMiss</span><span class="p">(</span><span class="n">iN</span><span class="p">,</span><span class="n">fsin</span><span class="p">,</span><span class="n">x_min</span><span class="p">,</span><span class="n">x_max</span><span class="p">,</span><span class="n">y_min</span><span class="p">,</span><span class="n">y_max</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Integrale = &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">risultato</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; +/- &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">risultato</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">    </span>
<span class="w">    </span><span class="n">g_integrale</span><span class="p">.</span><span class="n">SetPoint</span><span class="w"> </span><span class="p">(</span><span class="n">g_integrale</span><span class="p">.</span><span class="n">GetN</span><span class="p">(),</span><span class="w"> </span><span class="n">iN</span><span class="p">,</span><span class="w"> </span><span class="n">risultato</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">  </span>
<span class="w">    </span><span class="n">g_incertezza</span><span class="p">.</span><span class="n">SetPoint</span><span class="w"> </span><span class="p">(</span><span class="n">g_incertezza</span><span class="p">.</span><span class="n">GetN</span><span class="p">(),</span><span class="w"> </span><span class="n">iN</span><span class="p">,</span><span class="w"> </span><span class="n">risultato</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">                              </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span>
<span class="w">   </span><span class="n">TCanvas</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;c1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">c1</span><span class="p">.</span><span class="n">SetLogx</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>

<span class="w">   </span><span class="n">g_integrale</span><span class="p">.</span><span class="n">SetMarkerStyle</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale</span><span class="p">.</span><span class="n">SetMarkerColor</span><span class="w"> </span><span class="p">(</span><span class="n">kRed</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale</span><span class="p">.</span><span class="n">SetLineColor</span><span class="w"> </span><span class="p">(</span><span class="n">kRed</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale</span><span class="p">.</span><span class="n">SetMarkerSize</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetXaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;numero di eventi generati&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetYaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;integrale&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale</span><span class="p">.</span><span class="n">Draw</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;ALP&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">   </span><span class="n">c1</span><span class="p">.</span><span class="n">Print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;esercizio6_integrale.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;png&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">   </span>
<span class="w">   </span><span class="n">TCanvas</span><span class="w"> </span><span class="n">c2</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;c2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c2&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">c2</span><span class="p">.</span><span class="n">SetLogx</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>

<span class="w">   </span><span class="n">g_incertezza</span><span class="p">.</span><span class="n">SetMarkerStyle</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza</span><span class="p">.</span><span class="n">SetMarkerColor</span><span class="w"> </span><span class="p">(</span><span class="n">kBlue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza</span><span class="p">.</span><span class="n">SetLineColor</span><span class="w"> </span><span class="p">(</span><span class="n">kBlue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza</span><span class="p">.</span><span class="n">SetMarkerSize</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetXaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;numero di eventi generati&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetYaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;incertezza&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza</span><span class="p">.</span><span class="n">Draw</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;ALP&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">   </span><span class="n">c2</span><span class="p">.</span><span class="n">Print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;esercizio6_incertezza.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;png&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">    </span>
<span class="w">                                  </span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
</div>
<div class="section" id="metodo-di-integrazone-crude-montecarlo">
<h2>8.7 metodo di integrazone <em>crude Montecarlo</em><a class="headerlink" href="#metodo-di-integrazone-crude-montecarlo" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>esercizio07.cpp</cite></p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">Esercizio 07:Si implementi il metodo di integrazione crude-MC con la funzione di esempio f(x) = sin (x).</span>
<span class="cm">Si scriva l&#39;algoritmo che calcola l&#39;integrale come una funzione esterna al programma main, facendo in modo che prenda come parametri di ingresso, oltre agli estremi lungo l&#39;asse x, anche il numero di punti pseudo-casuali da generare.</span>
<span class="cm">Si faccia in modo che l&#39;algoritmo ritorni un contenitore contenente due elementi: il primo elemento sia il valore dell&#39;integrale, il secondo sia la sua incertezza.</span>

<span class="cm">c++ -o esercizio07 ../../Lezione_03/Esercizi/esercizio04/myarray.cc esercizio07.cpp </span>
<span class="cm">*/</span><span class="w"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ctime&gt;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;../../Lezione_03/Esercizi/esercizio04/myarray.h&quot;</span><span class="cp"></span>


<span class="kt">float</span><span class="w"> </span><span class="nf">rand_range</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">max</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rand</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">RAND_MAX</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span>


<span class="kt">double</span><span class="w"> </span><span class="nf">fsin</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">sin</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span>
<span class="w"> </span>
<span class="n">mioArray</span><span class="w"> </span><span class="nf">CrudeMC</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">Nrand</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="kt">double</span><span class="p">),</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMax</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">lunghezza</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">xMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">xMin</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">somma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">sommaQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">media</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">varianza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span>
<span class="w">     </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">Nrand</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="w">     </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="n">xMax</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">somma</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">sommaQ</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w">     </span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span>
<span class="w">     </span><span class="n">media</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">somma</span><span class="o">/</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Nrand</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">varianza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sommaQ</span><span class="o">/</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">media</span><span class="o">*</span><span class="n">media</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">          </span>
<span class="w">     </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">      </span>
<span class="w">     </span><span class="n">risultato</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">media</span><span class="o">*</span><span class="n">lunghezza</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">risultato</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">sqrt</span><span class="w"> </span><span class="p">(</span><span class="n">varianza</span><span class="o">/</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Nrand</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">lunghezza</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">      </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">risultato</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">                                         </span>
<span class="w">   </span><span class="p">}</span><span class="w">           </span>

<span class="c1">//----------------- MAIN -----------------</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span>
<span class="w">  </span><span class="n">srand</span><span class="w"> </span><span class="p">(</span><span class="n">time</span><span class="w"> </span><span class="p">(</span><span class="nb">NULL</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span>
<span class="w">  </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CrudeMC</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">fsin</span><span class="p">,</span><span class="n">x_min</span><span class="p">,</span><span class="n">x_max</span><span class="p">);</span><span class="w">  </span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Integrale = &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">risultato</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; +/- &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">risultato</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">                                    </span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
</div>
<div class="section" id="incetezza-del-metodo-di-integrazione-crude-montecarlo">
<h2>8.8 incetezza del metodo di integrazione <em>crude Montecarlo</em><a class="headerlink" href="#incetezza-del-metodo-di-integrazione-crude-montecarlo" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>esercizio08.cpp</cite></p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">Esercizio 08:Si inserisca il calcolo dell&#39;integrale dell&#39;esercizio precedente in un ciclo che, al variare del numero N di punti generati, mostri il valore dell&#39;integrale e della sua incertezza.</span>
<span class="cm">Si utilizzi un TGraph per disegnare gli andamenti del valore dell&#39;integrale e della sua incertezza, al variare di N con ragione logaritmica.</span>
<span class="cm">Si sovrapponga questo TGraph a quello ottenuto dallo svolgimento dell&#39;Esercizio 6.6.</span>

<span class="cm">c++ -o esercizio08 esercizio08.cpp ../../Lezione_03/Esercizi/esercizio04/myarray.cc `root-config --glibs --cflags`</span>
<span class="cm">*/</span><span class="w"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ctime&gt;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TH1F.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TCanvas.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TGraph.h&quot;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;../../Lezione_03/Esercizi/esercizio04/myarray.h&quot;</span><span class="cp"></span>


<span class="kt">float</span><span class="w"> </span><span class="nf">rand_range</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">max</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rand</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">RAND_MAX</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span>


<span class="kt">double</span><span class="w"> </span><span class="nf">fsin</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">sin</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span>
<span class="w"> </span>
<span class="n">mioArray</span><span class="w"> </span><span class="nf">CrudeMC</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">Nrand</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="kt">double</span><span class="p">),</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMax</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">lunghezza</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">xMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">xMin</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">somma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">sommaQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">media</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">varianza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span>
<span class="w">     </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">Nrand</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="w">     </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="n">xMax</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">somma</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">sommaQ</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w">     </span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span>
<span class="w">     </span><span class="n">media</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">somma</span><span class="o">/</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Nrand</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">varianza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sommaQ</span><span class="o">/</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">media</span><span class="o">*</span><span class="n">media</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">                                   </span>
<span class="w">     </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato_MC</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">      </span>
<span class="w">     </span><span class="n">risultato_MC</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">media</span><span class="o">*</span><span class="n">lunghezza</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">risultato_MC</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">sqrt</span><span class="w"> </span><span class="p">(</span><span class="n">varianza</span><span class="o">/</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Nrand</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">lunghezza</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">      </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">risultato_MC</span><span class="w"> </span><span class="p">;</span><span class="w">       </span>
<span class="w">   </span><span class="p">}</span><span class="w">  </span>
<span class="w">   </span>
<span class="n">mioArray</span><span class="w"> </span><span class="nf">HitOrMiss</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">Nrand</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="kt">double</span><span class="p">),</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMax</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="kt">double</span><span class="w"> </span><span class="n">yMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">yMax</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="kt">int</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">area</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">xMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">xMin</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">yMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">yMin</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span>
<span class="w">     </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Nrand</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="w"> </span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="n">xMax</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="w"> </span><span class="p">(</span><span class="n">yMin</span><span class="p">,</span><span class="w"> </span><span class="n">yMax</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="o">++</span><span class="n">nHit</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">      </span><span class="p">}</span><span class="w">   </span>
<span class="w">      </span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">varianza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1.</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">           </span>
<span class="w">     </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato_HoM</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">      </span>
<span class="w">     </span><span class="n">risultato_HoM</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">risultato_HoM</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">sqrt</span><span class="w"> </span><span class="p">(</span><span class="n">varianza</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">      </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">risultato_HoM</span><span class="w"> </span><span class="p">;</span><span class="w">       </span>
<span class="w">   </span><span class="p">}</span><span class="w">           </span>
<span class="w">            </span>
<span class="c1">//----------------- MAIN -----------------</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span>
<span class="w">  </span><span class="n">srand</span><span class="w"> </span><span class="p">(</span><span class="n">time</span><span class="w"> </span><span class="p">(</span><span class="nb">NULL</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50000</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="n">TGraph</span><span class="w"> </span><span class="n">g_integrale_MC</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">TGraph</span><span class="w"> </span><span class="n">g_incertezza_MC</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">TGraph</span><span class="w"> </span><span class="n">g_integrale_HoM</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">TGraph</span><span class="w"> </span><span class="n">g_incertezza_HoM</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span>
<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">iN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="n">iN</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">iN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iN</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato_MC</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">CrudeMC</span><span class="p">(</span><span class="n">iN</span><span class="p">,</span><span class="n">fsin</span><span class="p">,</span><span class="n">x_min</span><span class="p">,</span><span class="n">x_max</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato_HoM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HitOrMiss</span><span class="p">(</span><span class="n">iN</span><span class="p">,</span><span class="n">fsin</span><span class="p">,</span><span class="n">x_min</span><span class="p">,</span><span class="n">x_max</span><span class="p">,</span><span class="n">y_min</span><span class="p">,</span><span class="n">y_max</span><span class="p">);</span><span class="w">    </span>

<span class="w">    </span><span class="n">g_integrale_MC</span><span class="p">.</span><span class="n">SetPoint</span><span class="w"> </span><span class="p">(</span><span class="n">g_integrale_MC</span><span class="p">.</span><span class="n">GetN</span><span class="p">(),</span><span class="w"> </span><span class="n">iN</span><span class="p">,</span><span class="w"> </span><span class="n">risultato_MC</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">  </span>
<span class="w">    </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetPoint</span><span class="w"> </span><span class="p">(</span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">GetN</span><span class="p">(),</span><span class="w"> </span><span class="n">iN</span><span class="p">,</span><span class="w"> </span><span class="n">risultato_MC</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span>
<span class="w">    </span><span class="n">g_integrale_HoM</span><span class="p">.</span><span class="n">SetPoint</span><span class="w"> </span><span class="p">(</span><span class="n">g_integrale_HoM</span><span class="p">.</span><span class="n">GetN</span><span class="p">(),</span><span class="w"> </span><span class="n">iN</span><span class="p">,</span><span class="w"> </span><span class="n">risultato_HoM</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">  </span>
<span class="w">    </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetPoint</span><span class="w"> </span><span class="p">(</span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">GetN</span><span class="p">(),</span><span class="w"> </span><span class="n">iN</span><span class="p">,</span><span class="w"> </span><span class="n">risultato_HoM</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">                             </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span>
<span class="w">  </span><span class="n">TCanvas</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;c1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">c1</span><span class="p">.</span><span class="n">SetLogx</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>

<span class="w">   </span><span class="n">g_integrale_HoM</span><span class="p">.</span><span class="n">SetMarkerStyle</span><span class="w"> </span><span class="p">(</span><span class="mi">21</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale_HoM</span><span class="p">.</span><span class="n">SetMarkerColor</span><span class="w"> </span><span class="p">(</span><span class="n">kBlue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale_HoM</span><span class="p">.</span><span class="n">SetLineColor</span><span class="w"> </span><span class="p">(</span><span class="n">kBlue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale_HoM</span><span class="p">.</span><span class="n">SetMarkerSize</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale_HoM</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetXaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;numero di eventi generati&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale_HoM</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetYaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;integrale&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale_HoM</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetYaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetRangeUser</span><span class="w"> </span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span><span class="w"> </span><span class="mf">2.6</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//definisco il range dell&#39;asse y</span>
<span class="w">   </span><span class="n">g_integrale_HoM</span><span class="p">.</span><span class="n">Draw</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;ALP&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">   </span><span class="n">g_integrale_MC</span><span class="p">.</span><span class="n">SetMarkerStyle</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale_MC</span><span class="p">.</span><span class="n">SetMarkerColor</span><span class="w"> </span><span class="p">(</span><span class="n">kRed</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale_MC</span><span class="p">.</span><span class="n">SetLineColor</span><span class="w"> </span><span class="p">(</span><span class="n">kRed</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale_MC</span><span class="p">.</span><span class="n">SetMarkerSize</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_integrale_MC</span><span class="p">.</span><span class="n">Draw</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;LPSAME&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span>
<span class="w">   </span><span class="n">c1</span><span class="p">.</span><span class="n">Print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;esercizio8_integrale.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;png&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">   </span>
<span class="w">   </span><span class="n">TCanvas</span><span class="w"> </span><span class="n">c2</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;c2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c2&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">c2</span><span class="p">.</span><span class="n">SetLogx</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>

<span class="w">   </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetMarkerStyle</span><span class="w"> </span><span class="p">(</span><span class="mi">21</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetMarkerColor</span><span class="w"> </span><span class="p">(</span><span class="n">kBlue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetLineColor</span><span class="w"> </span><span class="p">(</span><span class="n">kBlue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetMarkerSize</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetXaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;numero di eventi generati&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetYaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;integrale&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">Draw</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;ALP&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">   </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetMarkerStyle</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetMarkerColor</span><span class="w"> </span><span class="p">(</span><span class="n">kRed</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetLineColor</span><span class="w"> </span><span class="p">(</span><span class="n">kRed</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetMarkerSize</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">Draw</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;LPSAME&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span>
<span class="w">   </span><span class="n">c2</span><span class="p">.</span><span class="n">Print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;esercizio8_incertezza.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;png&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">    </span>
<span class="w">                   </span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
</div>
<div class="section" id="confronto-fra-crude-montecarlo-e-hit-or-miss">
<h2>8.9 confronto fra <em>crude Montecarlo</em> e <em>hit-or-miss</em><a class="headerlink" href="#confronto-fra-crude-montecarlo-e-hit-or-miss" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>esercizio09.cpp</cite></p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">Esercizio 09:Si disegnino in due TGraph gli andamenti della precisione del calcolo dell&#39;integrale, per i due algoritmi di hit-or-miss e crude-MC, in funzione del tempo di calcolo corrispondente alle varie scelte del numero totale N di eventi pseudo-casuali generati.</span>

<span class="cm">c++ -o esercizio09 esercizio09.cpp ../../Lezione_03/Esercizi/esercizio04/myarray.cc `root-config --glibs --cflags`</span>
<span class="cm">*/</span><span class="w"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ctime&gt;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TH1F.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TCanvas.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;TGraph.h&quot;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;../../Lezione_03/Esercizi/esercizio04/myarray.h&quot;</span><span class="cp"></span>


<span class="kt">float</span><span class="w"> </span><span class="nf">rand_range</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">max</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rand</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">RAND_MAX</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span>


<span class="kt">double</span><span class="w"> </span><span class="nf">fsin</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">sin</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span>
<span class="w"> </span>
<span class="n">mioArray</span><span class="w"> </span><span class="nf">CrudeMC</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">Nrand</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="kt">double</span><span class="p">),</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMax</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">lunghezza</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">xMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">xMin</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">somma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">sommaQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">media</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">varianza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span>
<span class="w">     </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">Nrand</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="w">     </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="n">xMax</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">somma</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">sommaQ</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w">     </span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span>
<span class="w">     </span><span class="n">media</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">somma</span><span class="o">/</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Nrand</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">varianza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sommaQ</span><span class="o">/</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">media</span><span class="o">*</span><span class="n">media</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">                                   </span>
<span class="w">     </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato_MC</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">      </span>
<span class="w">     </span><span class="n">risultato_MC</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">media</span><span class="o">*</span><span class="n">lunghezza</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">risultato_MC</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">sqrt</span><span class="w"> </span><span class="p">(</span><span class="n">varianza</span><span class="o">/</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Nrand</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">lunghezza</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">      </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">risultato_MC</span><span class="w"> </span><span class="p">;</span><span class="w">       </span>
<span class="w">   </span><span class="p">}</span><span class="w">  </span>
<span class="w">   </span>
<span class="n">mioArray</span><span class="w"> </span><span class="nf">HitOrMiss</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">Nrand</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="kt">double</span><span class="p">),</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMax</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="kt">double</span><span class="w"> </span><span class="n">yMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">yMax</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="kt">int</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">area</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">xMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">xMin</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">yMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">yMin</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span>
<span class="w">     </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Nrand</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="w"> </span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="n">xMax</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="w"> </span><span class="p">(</span><span class="n">yMin</span><span class="p">,</span><span class="w"> </span><span class="n">yMax</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="o">++</span><span class="n">nHit</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">      </span><span class="p">}</span><span class="w">   </span>
<span class="w">      </span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">varianza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1.</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">           </span>
<span class="w">     </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato_HoM</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">      </span>
<span class="w">     </span><span class="n">risultato_HoM</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">risultato_HoM</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">sqrt</span><span class="w"> </span><span class="p">(</span><span class="n">varianza</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">      </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">risultato_HoM</span><span class="w"> </span><span class="p">;</span><span class="w">       </span>
<span class="w">   </span><span class="p">}</span><span class="w">           </span>
<span class="w">            </span>
<span class="c1">//----------------- MAIN -----------------</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span>
<span class="w">  </span><span class="n">srand</span><span class="w"> </span><span class="p">(</span><span class="n">time</span><span class="w"> </span><span class="p">(</span><span class="nb">NULL</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50000</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">tempoCalcolo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="n">TGraph</span><span class="w"> </span><span class="n">g_incertezza_MC</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">TGraph</span><span class="w"> </span><span class="n">g_incertezza_HoM</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span>
<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">iN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="n">iN</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">iN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iN</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato_MC</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">CrudeMC</span><span class="p">(</span><span class="n">iN</span><span class="p">,</span><span class="n">fsin</span><span class="p">,</span><span class="n">x_min</span><span class="p">,</span><span class="n">x_max</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato_HoM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HitOrMiss</span><span class="p">(</span><span class="n">iN</span><span class="p">,</span><span class="n">fsin</span><span class="p">,</span><span class="n">x_min</span><span class="p">,</span><span class="n">x_max</span><span class="p">,</span><span class="n">y_min</span><span class="p">,</span><span class="n">y_max</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span>
<span class="w">    </span><span class="n">tempoCalcolo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clock</span><span class="p">();</span><span class="w">   </span>
<span class="w"> </span>
<span class="w">    </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetPoint</span><span class="w"> </span><span class="p">(</span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">GetN</span><span class="p">(),</span><span class="w"> </span><span class="n">iN</span><span class="p">,</span><span class="w"> </span><span class="n">risultato_MC</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetPoint</span><span class="w"> </span><span class="p">(</span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">GetN</span><span class="p">(),</span><span class="w"> </span><span class="n">iN</span><span class="p">,</span><span class="w"> </span><span class="n">risultato_HoM</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w">                             </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span>
<span class="w">  </span><span class="n">TCanvas</span><span class="w"> </span><span class="o">*</span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TCanvas</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;c1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">c1</span><span class="o">-&gt;</span><span class="n">Divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">c1</span><span class="o">-&gt;</span><span class="n">cd</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetMarkerStyle</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetMarkerColor</span><span class="w"> </span><span class="p">(</span><span class="n">kBlue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetLineColor</span><span class="w"> </span><span class="p">(</span><span class="n">kBlue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetMarkerSize</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s">&quot;Metodo Hit or Miss&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetXaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;tempo di calcolo&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetYaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;incertezza&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_HoM</span><span class="p">.</span><span class="n">Draw</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;ALP&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span>
<span class="w">  </span><span class="n">c1</span><span class="o">-&gt;</span><span class="n">cd</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetMarkerStyle</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetMarkerColor</span><span class="w"> </span><span class="p">(</span><span class="n">kRed</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetLineColor</span><span class="w"> </span><span class="p">(</span><span class="n">kRed</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetMarkerSize</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s">&quot;Metodo Crude Monte Carlo&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetXaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;tempo di calcolo&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">GetHistogram</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetYaxis</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="n">SetTitle</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;incertezza&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_incertezza_MC</span><span class="p">.</span><span class="n">Draw</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;ALP&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">   </span>
<span class="w">  </span><span class="n">c1</span><span class="o">-&gt;</span><span class="n">Print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;esercizio9.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;png&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">   </span>
<span class="w">  </span><span class="k">delete</span><span class="w"> </span><span class="n">c1</span><span class="p">;</span><span class="w"></span>
<span class="w">                     </span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
</div>
<div class="section" id="integrale-della-gaussiana">
<h2>8.10 integrale della Gaussiana<a class="headerlink" href="#integrale-della-gaussiana" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>esercizio10.cpp</cite></p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">Esercizio 10: Si utilizzi il metodo hit-or-miss per stimare l’integrale sotteso ad una disrtibuzione di probabilita&#39; Gaussiana con μ=0 e *σ=1 in un generico intervallo [a,b].</span>
<span class="cm">Si calcoli l&#39;integrale contenuto entro gli intervalli [-kσ,kσ] al variare di k da 1 a 5.</span>

<span class="cm">c++ -o esercizio10 esercizio10.cpp ../../Lezione_03/Esercizi/esercizio04/myarray.cc</span>
<span class="cm">*/</span><span class="w"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ctime&gt;</span><span class="cp"></span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;../../Lezione_03/Esercizi/esercizio04/myarray.h&quot;</span><span class="cp"></span>


<span class="kt">float</span><span class="w"> </span><span class="nf">rand_range</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">max</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rand</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">RAND_MAX</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span>


<span class="kt">double</span><span class="w"> </span><span class="nf">fgaus</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w">  </span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="p">(</span><span class="mf">-0.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span>
<span class="n">mioArray</span><span class="w"> </span><span class="nf">HitOrMiss</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">Nrand</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="kt">double</span><span class="p">),</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">xMax</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="kt">double</span><span class="w"> </span><span class="n">yMin</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">yMax</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="kt">int</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">area</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">xMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">xMin</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">yMax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">yMin</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span>
<span class="w">     </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Nrand</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="w"> </span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span><span class="w"> </span><span class="n">xMax</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand_range</span><span class="w"> </span><span class="p">(</span><span class="n">yMin</span><span class="p">,</span><span class="w"> </span><span class="n">yMax</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="o">++</span><span class="n">nHit</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">      </span><span class="p">}</span><span class="w">   </span>
<span class="w">      </span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="kt">double</span><span class="w"> </span><span class="n">varianza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1.</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">           </span>
<span class="w">     </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">      </span>
<span class="w">     </span><span class="n">risultato</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">nHit</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Nrand</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">risultato</span><span class="p">.</span><span class="n">fill</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">sqrt</span><span class="w"> </span><span class="p">(</span><span class="n">varianza</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">      </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">risultato</span><span class="w"> </span><span class="p">;</span><span class="w">       </span>
<span class="w">   </span><span class="p">}</span><span class="w">           </span>

<span class="c1">//----------------- MAIN -----------------</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span>
<span class="w">  </span><span class="n">srand</span><span class="w"> </span><span class="p">(</span><span class="n">time</span><span class="w"> </span><span class="p">(</span><span class="nb">NULL</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">x_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">x_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">mioArray</span><span class="w"> </span><span class="n">risultato</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HitOrMiss</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">fgaus</span><span class="p">,</span><span class="n">x_min</span><span class="p">,</span><span class="n">x_max</span><span class="p">,</span><span class="n">y_min</span><span class="p">,</span><span class="n">y_max</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Intervallo [&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x_min</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; , &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x_max</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;]&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Integrale = &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">risultato</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; +/- &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">risultato</span><span class="p">.</span><span class="n">get1</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="n">k</span><span class="o">++</span><span class="p">;</span><span class="w">                             </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">                   </span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/linea.png"><img alt="../_images/linea.png" src="../_images/linea.png" style="width: 1100px;" /></a>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Appendice_02"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="ESERCIZI.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Esercizi per la lezione 8</p>
        </div>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Docenti del Corso di Laboratorio 2<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>